<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>index</title>

  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='0.9em' font-size='90'>▢</text></svg>">
  <link rel="stylesheet" href="/styles.css?v=100" />

  <!-- Turnstile (explicit render) -->
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit" async defer></script>
</head>

<body>
<!-- crack overlay -->
  <div id="cracks" aria-hidden="true" class="hidden"></div>

<!-- falling glass overlay -->
  <div id="glassFX" aria-hidden="true" class="hidden"></div>

  <main id="wrap">
    <header class="card">
      <h1>Welcome</h1>
      <p>
        This page is currently under revision.<br><br>
        Some content may be incomplete or displayed incorrectly.
        If you believe you’ve reached this page in error, you may close it at any time.
      </p>
    </header>

    <section class="grid card" aria-label="media">
      <img src="/assets/img1.jpg" alt="">
      <img src="/assets/img2.jpg" alt="">
      <img src="/assets/img3.jpg" alt="">
      <img src="/assets/img4.jpg" alt="">
      <img src="/assets/img5.jpg" alt="">
      <img src="/assets/img6.jpg" alt="">
    </section>

    <section class="card" style="margin-top:14px">
      <div id="system" style="opacity:.85"></div>
    </section>

    <!-- security room -->
    <section id="simRoom" class="card hidden">
      <div style="opacity:.75;font-size:12px;margin-bottom:8px">OUTSIDE // SIMULATION</div>
      <pre id="simText"></pre>

      <div id="simChoices" class="hidden" aria-label="choices">
        <button id="choiceNeed" class="sim-btn">I'm sorry. I’ll stop.</button>
        <button id="choiceLie" class="sim-btn">It was an accident.</button>
        <button id="choiceRun" class="sim-btn">Run.</button>
      </div>

      <!-- task UI -->
      <div id="taskUI" class="hidden">
        <h3 id="taskTitle" style="margin:0 0 6px 0"></h3>
        <div id="taskDesc" style="opacity:.8"></div>
        <div id="taskBody"></div>
        <div id="taskActions">
          <button id="taskPrimary" class="sim-btn">continue</button>
          <button id="taskSecondary" class="sim-btn hidden">secondary</button>
        </div>
      </div>
    </section>

    <!-- hack room -->
    <section id="hackRoom" class="card hidden" style="margin-top:14px">
      <div style="display:flex;justify-content:space-between;align-items:center;gap:10px;flex-wrap:wrap">
        <div>
          <div id="hackUser" style="opacity:.85">USER:</div>
          <div style="opacity:.75;font-size:12px;margin-top:4px">Workstation // line wipe</div>
        </div>
        <div>
          <button class="sim-btn hack-filebtn" data-file="0">boot.log</button>
          <button class="sim-btn hack-filebtn" data-file="1">profile.cfg</button>
          <button class="sim-btn hack-filebtn" data-file="2">cache.tmp</button>
        </div>
      </div>

      <div style="margin-top:10px;opacity:.85">
        <b id="hackFilename"></b><span id="hackTargets" style="opacity:.7"></span>
      </div>

      <div id="hackStatus" style="margin-top:8px;opacity:.8"></div>
      <div id="hackLines" style="margin-top:10px"></div>

      <div class="modal-actions" style="justify-content:flex-start">
        <button id="hackDelete" class="sim-btn">delete</button>
        <button id="hackReset" class="sim-btn">reset</button>
      </div>
    </section>
  </main>

  <!-- reset overlay -->
  <div id="resetOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal">
      <h3 id="resetTitle" style="margin:0 0 6px 0">RESET</h3>
      <pre id="resetBody" style="white-space:pre-wrap;opacity:.85;margin:0"></pre>
    </div>
  </div>

  <!-- final overlay -->
  <div id="finalOverlay" class="overlay hidden" aria-hidden="true">
    <div class="modal">
      <h3 style="margin:0 0 8px 0">Finalize</h3>
      <div style="opacity:.8;margin-bottom:10px">Enter your Discord and final answer, then verify.</div>

      <label style="display:block;margin-bottom:8px;opacity:.8">Discord</label>
      <input id="finalDiscord" placeholder="your discord username" />

      <label style="display:block;margin:12px 0 8px;opacity:.8">Answer</label>
      <input id="finalAnswer" placeholder="answer" />

      <div style="margin-top:12px" id="turnstileBox"></div>
      <div id="finalErr" style="margin-top:10px;color:rgba(255,190,190,.95)"></div>

      <div class="modal-actions">
        <button id="finalCancel" class="sim-btn">cancel</button>
        <button id="finalVerify" class="sim-btn">verify</button>
      </div>
    </div>
  </div>

  <!-- scripts in correct order -->
  <script src="/dialogue.js?v=100"></script>
  
  <script src="/tasks.js?v=100"></script>
  <script src="/packs/pack1.js?v=100"></script>
  <script src="/packs/pack2.js?v=100"></script>
  <script src="/packs/pack3.js?v=100"></script>
  <script src="/packs/pack4.js?v=100"></script>
  <script src="/packs/pack5.js?v=100"></script>
  
  <script src="/main.js?v=100"></script>

</body>
</html>
